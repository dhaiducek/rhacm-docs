// Automatically generated by 'openshift-apidocs-gen'. Do not edit.
:_content-type: ASSEMBLY
[id="certificatepolicy-policy-open-cluster-management-io-v1"]
= CertificatePolicy [policy.open-cluster-management.io/v1]
:toc: macro
:toc-title:

toc::[]


Description::
+
--
CertificatePolicy is the Schema for the certificatepolicies API
--

Type::
  `object`



== Specification

[cols="1,1,1",options="header"]
|===
| Property | Type | Description

| `apiVersion`
| `string`
| APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources

| `kind`
| `string`
| Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds

| `metadata`
| xref:[`ObjectMeta`]
| Standard object's metadata. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata

| `spec`
| `object`
| CertificatePolicySpec defines the desired state of CertificatePolicy

| `status`
| `object`
| CertificatePolicyStatus defines the observed state of CertificatePolicy

|===
=== .spec
Description::
+
--
CertificatePolicySpec defines the desired state of CertificatePolicy
--

Type::
  `object`




[cols="1,1,1",options="header"]
|===
| Property | Type | Description

| `allowedSANPattern`
| `string`
| A pattern that must match any defined SAN entries in the certificate for the certificate to be compliant.  Golang's regexp syntax only.

| `disallowedSANPattern`
| `string`
| A pattern that must not match any defined SAN entries in the certificate for the certificate to be compliant. Golang's regexp syntax only.

| `labelSelector`
| `object (string)`
| Restrict the secrets that will be checked to the ones that contain these labels.

| `maximumCADuration`
| `string`
| Maximum CA duration for a signing certificate, longer duration is considered non-compliant. Golang's time units only.

| `maximumDuration`
| `string`
| Maximum duration for a certificate, longer duration is considered non-compliant. Golang's time units only.

| `minimumCADuration`
| `string`
| Minimum CA duration before a signing certificate expires that it is considered non-compliant. Golang's time units only.

| `minimumDuration`
| `string`
| Minimum duration before a certificate expires that it is considered non-compliant. Golang's time units only.

| `namespaceSelector`
| `object`
| 'namespaceSelector' defines the list of namespaces to include/exclude for objects defined in spec.objectTemplates. All selector rules are ANDed. If 'include' is not provided but 'matchLabels' and/or 'matchExpressions' are, 'include' will behave as if ['*'] were given. If 'matchExpressions' and 'matchLabels' are both not provided, 'include' must be provided to retrieve namespaces.

| `remediationAction`
| `string`
| Only Inform is currently supported. Setting this to Enforce will have the same effect as Inform.

| `severity`
| `string`
| low, medium, high, or critical

|===
=== .spec.namespaceSelector
Description::
+
--
'namespaceSelector' defines the list of namespaces to include/exclude for objects defined in spec.objectTemplates. All selector rules are ANDed. If 'include' is not provided but 'matchLabels' and/or 'matchExpressions' are, 'include' will behave as if ['*'] were given. If 'matchExpressions' and 'matchLabels' are both not provided, 'include' must be provided to retrieve namespaces.
--

Type::
  `object`




[cols="1,1,1",options="header"]
|===
| Property | Type | Description

| `exclude`
| `array (string)`
| 'exclude' is an array of filepath expressions to exclude objects by name.

| `include`
| `array (string)`
| 'include' is an array of filepath expressions to include objects by name.

| `matchExpressions`
| `array`
| 'matchExpressions' is an array of label selector requirements matching objects by label.

| `matchExpressions[]`
| `object`
| A label selector requirement is a selector that contains values, a key, and an operator that relates the key and values.

| `matchLabels`
| `object (string)`
| 'matchLabels' is a map of {key,value} pairs matching objects by label.

|===
=== .spec.namespaceSelector.matchExpressions
Description::
+
--
'matchExpressions' is an array of label selector requirements matching objects by label.
--

Type::
  `array`




=== .spec.namespaceSelector.matchExpressions[]
Description::
+
--
A label selector requirement is a selector that contains values, a key, and an operator that relates the key and values.
--

Type::
  `object`

Required::
  - `key`
  - `operator`



[cols="1,1,1",options="header"]
|===
| Property | Type | Description

| `key`
| `string`
| key is the label key that the selector applies to.

| `operator`
| `string`
| operator represents a key's relationship to a set of values. Valid operators are In, NotIn, Exists and DoesNotExist.

| `values`
| `array (string)`
| values is an array of string values. If the operator is In or NotIn, the values array must be non-empty. If the operator is Exists or DoesNotExist, the values array must be empty. This array is replaced during a strategic merge patch.

|===
=== .status
Description::
+
--
CertificatePolicyStatus defines the observed state of CertificatePolicy
--

Type::
  `object`




[cols="1,1,1",options="header"]
|===
| Property | Type | Description

| `compliancyDetails`
| `object`
| map of namespaces to its compliancy details

| `compliancyDetails{}`
| `object`
| CompliancyDetails defines the all the details related to whether or not the policy is compliant

| `compliant`
| `string`
| Compliant, NonCompliant, UnknownCompliancy

|===
=== .status.compliancyDetails
Description::
+
--
map of namespaces to its compliancy details
--

Type::
  `object`




=== .status.compliancyDetails{}
Description::
+
--
CompliancyDetails defines the all the details related to whether or not the policy is compliant
--

Type::
  `object`




[cols="1,1,1",options="header"]
|===
| Property | Type | Description

| `message`
| `string`
| 

| `nonCompliantCertificates`
| `integer`
| 

| `nonCompliantCertificatesList`
| `object`
| 

| `nonCompliantCertificatesList{}`
| `object`
| Cert contains its related secret and when it expires

|===
=== .status.compliancyDetails{}.nonCompliantCertificatesList
Description::
+
--

--

Type::
  `object`




=== .status.compliancyDetails{}.nonCompliantCertificatesList{}
Description::
+
--
Cert contains its related secret and when it expires
--

Type::
  `object`




[cols="1,1,1",options="header"]
|===
| Property | Type | Description

| `ca`
| `boolean`
| 

| `duration`
| `integer`
| A Duration represents the elapsed time between two instants as an int64 nanosecond count. The representation limits the largest representable duration to approximately 290 years.

| `expiration`
| `string`
| 

| `expiry`
| `integer`
| A Duration represents the elapsed time between two instants as an int64 nanosecond count. The representation limits the largest representable duration to approximately 290 years.

| `sans`
| `array (string)`
| 

| `secretName`
| `string`
| 

|===

== API endpoints

The following API endpoints are available:

* `/apis/policy.open-cluster-management.io/v1/certificatepolicies`
- `GET`: list objects of kind CertificatePolicy
* `/apis/policy.open-cluster-management.io/v1/namespaces/{namespace}/certificatepolicies`
- `DELETE`: delete collection of CertificatePolicy
- `GET`: list objects of kind CertificatePolicy
- `POST`: create a CertificatePolicy
* `/apis/policy.open-cluster-management.io/v1/namespaces/{namespace}/certificatepolicies/{name}`
- `DELETE`: delete a CertificatePolicy
- `GET`: read the specified CertificatePolicy
- `PATCH`: partially update the specified CertificatePolicy
- `PUT`: replace the specified CertificatePolicy
* `/apis/policy.open-cluster-management.io/v1/namespaces/{namespace}/certificatepolicies/{name}/status`
- `GET`: read status of the specified CertificatePolicy
- `PATCH`: partially update status of the specified CertificatePolicy
- `PUT`: replace status of the specified CertificatePolicy


=== /apis/policy.open-cluster-management.io/v1/certificatepolicies



HTTP method::
  `GET`

Description::
  list objects of kind CertificatePolicy


.HTTP responses
[cols="1,1",options="header"]
|===
| HTTP code | Reponse body
| 200 - OK
| xref:../objects/index.adoc#io.open-cluster-management.policy.v1.CertificatePolicyList[`CertificatePolicyList`] schema
| 401 - Unauthorized
| Empty
|===


=== /apis/policy.open-cluster-management.io/v1/namespaces/{namespace}/certificatepolicies



HTTP method::
  `DELETE`

Description::
  delete collection of CertificatePolicy




.HTTP responses
[cols="1,1",options="header"]
|===
| HTTP code | Reponse body
| 200 - OK
| `Status` schema
| 401 - Unauthorized
| Empty
|===

HTTP method::
  `GET`

Description::
  list objects of kind CertificatePolicy




.HTTP responses
[cols="1,1",options="header"]
|===
| HTTP code | Reponse body
| 200 - OK
| xref:../objects/index.adoc#io.open-cluster-management.policy.v1.CertificatePolicyList[`CertificatePolicyList`] schema
| 401 - Unauthorized
| Empty
|===

HTTP method::
  `POST`

Description::
  create a CertificatePolicy


.Query parameters
[cols="1,1,2",options="header"]
|===
| Parameter | Type | Description
| `dryRun`
| `string`
| When present, indicates that modifications should not be persisted. An invalid or unrecognized dryRun directive will result in an error response and no further processing of the request. Valid values are: - All: all dry run stages will be processed
| `fieldValidation`
| `string`
| fieldValidation instructs the server on how to handle objects in the request (POST/PUT/PATCH) containing unknown or duplicate fields. Valid values are: - Ignore: This will ignore any unknown fields that are silently dropped from the object, and will ignore all but the last duplicate field that the decoder encounters. This is the default behavior prior to v1.23. - Warn: This will send a warning via the standard warning response header for each unknown field that is dropped from the object, and for each duplicate field that is encountered. The request will still succeed if there are no other errors, and will only persist the last of any duplicate fields. This is the default in v1.23+ - Strict: This will fail the request with a BadRequest error if any unknown fields would be dropped from the object, or if any duplicate fields are present. The error returned from the server will contain all unknown and duplicate fields encountered.
|===

.Body parameters
[cols="1,1,2",options="header"]
|===
| Parameter | Type | Description
| `body`
| xref:../policy_open-cluster-management_io/certificatepolicy-policy-open-cluster-management-io-v1.adoc#certificatepolicy-policy-open-cluster-management-io-v1[`CertificatePolicy`] schema
| 
|===

.HTTP responses
[cols="1,1",options="header"]
|===
| HTTP code | Reponse body
| 200 - OK
| xref:../policy_open-cluster-management_io/certificatepolicy-policy-open-cluster-management-io-v1.adoc#certificatepolicy-policy-open-cluster-management-io-v1[`CertificatePolicy`] schema
| 201 - Created
| xref:../policy_open-cluster-management_io/certificatepolicy-policy-open-cluster-management-io-v1.adoc#certificatepolicy-policy-open-cluster-management-io-v1[`CertificatePolicy`] schema
| 202 - Accepted
| xref:../policy_open-cluster-management_io/certificatepolicy-policy-open-cluster-management-io-v1.adoc#certificatepolicy-policy-open-cluster-management-io-v1[`CertificatePolicy`] schema
| 401 - Unauthorized
| Empty
|===


=== /apis/policy.open-cluster-management.io/v1/namespaces/{namespace}/certificatepolicies/{name}

.Global path parameters
[cols="1,1,2",options="header"]
|===
| Parameter | Type | Description
| `name`
| `string`
| name of the CertificatePolicy
|===


HTTP method::
  `DELETE`

Description::
  delete a CertificatePolicy


.Query parameters
[cols="1,1,2",options="header"]
|===
| Parameter | Type | Description
| `dryRun`
| `string`
| When present, indicates that modifications should not be persisted. An invalid or unrecognized dryRun directive will result in an error response and no further processing of the request. Valid values are: - All: all dry run stages will be processed
|===


.HTTP responses
[cols="1,1",options="header"]
|===
| HTTP code | Reponse body
| 200 - OK
| `Status` schema
| 202 - Accepted
| `Status` schema
| 401 - Unauthorized
| Empty
|===

HTTP method::
  `GET`

Description::
  read the specified CertificatePolicy




.HTTP responses
[cols="1,1",options="header"]
|===
| HTTP code | Reponse body
| 200 - OK
| xref:../policy_open-cluster-management_io/certificatepolicy-policy-open-cluster-management-io-v1.adoc#certificatepolicy-policy-open-cluster-management-io-v1[`CertificatePolicy`] schema
| 401 - Unauthorized
| Empty
|===

HTTP method::
  `PATCH`

Description::
  partially update the specified CertificatePolicy


.Query parameters
[cols="1,1,2",options="header"]
|===
| Parameter | Type | Description
| `dryRun`
| `string`
| When present, indicates that modifications should not be persisted. An invalid or unrecognized dryRun directive will result in an error response and no further processing of the request. Valid values are: - All: all dry run stages will be processed
| `fieldValidation`
| `string`
| fieldValidation instructs the server on how to handle objects in the request (POST/PUT/PATCH) containing unknown or duplicate fields. Valid values are: - Ignore: This will ignore any unknown fields that are silently dropped from the object, and will ignore all but the last duplicate field that the decoder encounters. This is the default behavior prior to v1.23. - Warn: This will send a warning via the standard warning response header for each unknown field that is dropped from the object, and for each duplicate field that is encountered. The request will still succeed if there are no other errors, and will only persist the last of any duplicate fields. This is the default in v1.23+ - Strict: This will fail the request with a BadRequest error if any unknown fields would be dropped from the object, or if any duplicate fields are present. The error returned from the server will contain all unknown and duplicate fields encountered.
|===


.HTTP responses
[cols="1,1",options="header"]
|===
| HTTP code | Reponse body
| 200 - OK
| xref:../policy_open-cluster-management_io/certificatepolicy-policy-open-cluster-management-io-v1.adoc#certificatepolicy-policy-open-cluster-management-io-v1[`CertificatePolicy`] schema
| 401 - Unauthorized
| Empty
|===

HTTP method::
  `PUT`

Description::
  replace the specified CertificatePolicy


.Query parameters
[cols="1,1,2",options="header"]
|===
| Parameter | Type | Description
| `dryRun`
| `string`
| When present, indicates that modifications should not be persisted. An invalid or unrecognized dryRun directive will result in an error response and no further processing of the request. Valid values are: - All: all dry run stages will be processed
| `fieldValidation`
| `string`
| fieldValidation instructs the server on how to handle objects in the request (POST/PUT/PATCH) containing unknown or duplicate fields. Valid values are: - Ignore: This will ignore any unknown fields that are silently dropped from the object, and will ignore all but the last duplicate field that the decoder encounters. This is the default behavior prior to v1.23. - Warn: This will send a warning via the standard warning response header for each unknown field that is dropped from the object, and for each duplicate field that is encountered. The request will still succeed if there are no other errors, and will only persist the last of any duplicate fields. This is the default in v1.23+ - Strict: This will fail the request with a BadRequest error if any unknown fields would be dropped from the object, or if any duplicate fields are present. The error returned from the server will contain all unknown and duplicate fields encountered.
|===

.Body parameters
[cols="1,1,2",options="header"]
|===
| Parameter | Type | Description
| `body`
| xref:../policy_open-cluster-management_io/certificatepolicy-policy-open-cluster-management-io-v1.adoc#certificatepolicy-policy-open-cluster-management-io-v1[`CertificatePolicy`] schema
| 
|===

.HTTP responses
[cols="1,1",options="header"]
|===
| HTTP code | Reponse body
| 200 - OK
| xref:../policy_open-cluster-management_io/certificatepolicy-policy-open-cluster-management-io-v1.adoc#certificatepolicy-policy-open-cluster-management-io-v1[`CertificatePolicy`] schema
| 201 - Created
| xref:../policy_open-cluster-management_io/certificatepolicy-policy-open-cluster-management-io-v1.adoc#certificatepolicy-policy-open-cluster-management-io-v1[`CertificatePolicy`] schema
| 401 - Unauthorized
| Empty
|===


=== /apis/policy.open-cluster-management.io/v1/namespaces/{namespace}/certificatepolicies/{name}/status

.Global path parameters
[cols="1,1,2",options="header"]
|===
| Parameter | Type | Description
| `name`
| `string`
| name of the CertificatePolicy
|===


HTTP method::
  `GET`

Description::
  read status of the specified CertificatePolicy




.HTTP responses
[cols="1,1",options="header"]
|===
| HTTP code | Reponse body
| 200 - OK
| xref:../policy_open-cluster-management_io/certificatepolicy-policy-open-cluster-management-io-v1.adoc#certificatepolicy-policy-open-cluster-management-io-v1[`CertificatePolicy`] schema
| 401 - Unauthorized
| Empty
|===

HTTP method::
  `PATCH`

Description::
  partially update status of the specified CertificatePolicy


.Query parameters
[cols="1,1,2",options="header"]
|===
| Parameter | Type | Description
| `dryRun`
| `string`
| When present, indicates that modifications should not be persisted. An invalid or unrecognized dryRun directive will result in an error response and no further processing of the request. Valid values are: - All: all dry run stages will be processed
| `fieldValidation`
| `string`
| fieldValidation instructs the server on how to handle objects in the request (POST/PUT/PATCH) containing unknown or duplicate fields. Valid values are: - Ignore: This will ignore any unknown fields that are silently dropped from the object, and will ignore all but the last duplicate field that the decoder encounters. This is the default behavior prior to v1.23. - Warn: This will send a warning via the standard warning response header for each unknown field that is dropped from the object, and for each duplicate field that is encountered. The request will still succeed if there are no other errors, and will only persist the last of any duplicate fields. This is the default in v1.23+ - Strict: This will fail the request with a BadRequest error if any unknown fields would be dropped from the object, or if any duplicate fields are present. The error returned from the server will contain all unknown and duplicate fields encountered.
|===


.HTTP responses
[cols="1,1",options="header"]
|===
| HTTP code | Reponse body
| 200 - OK
| xref:../policy_open-cluster-management_io/certificatepolicy-policy-open-cluster-management-io-v1.adoc#certificatepolicy-policy-open-cluster-management-io-v1[`CertificatePolicy`] schema
| 401 - Unauthorized
| Empty
|===

HTTP method::
  `PUT`

Description::
  replace status of the specified CertificatePolicy


.Query parameters
[cols="1,1,2",options="header"]
|===
| Parameter | Type | Description
| `dryRun`
| `string`
| When present, indicates that modifications should not be persisted. An invalid or unrecognized dryRun directive will result in an error response and no further processing of the request. Valid values are: - All: all dry run stages will be processed
| `fieldValidation`
| `string`
| fieldValidation instructs the server on how to handle objects in the request (POST/PUT/PATCH) containing unknown or duplicate fields. Valid values are: - Ignore: This will ignore any unknown fields that are silently dropped from the object, and will ignore all but the last duplicate field that the decoder encounters. This is the default behavior prior to v1.23. - Warn: This will send a warning via the standard warning response header for each unknown field that is dropped from the object, and for each duplicate field that is encountered. The request will still succeed if there are no other errors, and will only persist the last of any duplicate fields. This is the default in v1.23+ - Strict: This will fail the request with a BadRequest error if any unknown fields would be dropped from the object, or if any duplicate fields are present. The error returned from the server will contain all unknown and duplicate fields encountered.
|===

.Body parameters
[cols="1,1,2",options="header"]
|===
| Parameter | Type | Description
| `body`
| xref:../policy_open-cluster-management_io/certificatepolicy-policy-open-cluster-management-io-v1.adoc#certificatepolicy-policy-open-cluster-management-io-v1[`CertificatePolicy`] schema
| 
|===

.HTTP responses
[cols="1,1",options="header"]
|===
| HTTP code | Reponse body
| 200 - OK
| xref:../policy_open-cluster-management_io/certificatepolicy-policy-open-cluster-management-io-v1.adoc#certificatepolicy-policy-open-cluster-management-io-v1[`CertificatePolicy`] schema
| 201 - Created
| xref:../policy_open-cluster-management_io/certificatepolicy-policy-open-cluster-management-io-v1.adoc#certificatepolicy-policy-open-cluster-management-io-v1[`CertificatePolicy`] schema
| 401 - Unauthorized
| Empty
|===


